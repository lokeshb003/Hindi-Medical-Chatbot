from flask import Flask, request, jsonify, render_template
from gtts import gTTS
import os

app = Flask(__name__)

# Sample responses based on keywords
responses = {
"हैलो": "नमस्ते! हमारी स्वास्थ्य चैट सेवा में आपका स्वागत है। मुझे खुशी है कि आप यहां हैं और मैं आपकी स्वास्थ्य संबंधी चिंताओं को दूर करने के लिए आवश्यक सहायता और मार्गदर्शन प्रदान करने के लिए समर्पित हूं। आज आप कैसा महसूस कर रहे हैं?",
"सहज नहीं":"क्या आपको कोई दर्द या असुविधा है?",
"ऐसा कुछ नहीं है।":"कोई खांसी, जमाव या सांस लेने में कठिनाई?",
"हां यह है":"क्या आपने इसके लिए किसी अन्य डॉक्टर को देखा है?",
"ऐसा कोई नहीं है":"आपकी मुख्य चिंता क्या है?",
"बीमारी": "बीमारी एक व्यक्ति की तंत्रिका संवेदनशीलता और उच्च-स्तरीय स्थिरता से संबंधित एक अनुभव है जो उन्हें एक विशिष्ट स्थिति में रखता है।",
"धन्यवाद": "आपका स्वागत है! याद रखें, और ध्यान रखें, आप इस यात्रा पर अकेले नहीं हैं। हम यहां हर कदम पर आपका समर्थन करने के लिए हैं। आपके बेहतर स्वास्थ्य और जीवन शक्ति की कामना करता हूं। अगली बार तक, अलविदा!",
"पीठ दर्द का कारण": "अति प्रयोग, अनुचित उठाने, या अचानक आंदोलनों से पीठ में मांसपेशियों या स्नायुबंधन पर दबाव पड़ सकता है। एक ऐसी स्थिति जहां हड्डियां छिद्रपूर्ण और भंगुर हो जाती हैं, जिससे फ्रैक्चर का खतरा बढ़ जाता है। स्कोलियोसिस जैसी स्थितियां पीठ दर्द का कारण बन सकती हैं।",
"पीठ दर्द के लक्षण":"यह एक क्षेत्र में स्थानीयकृत हो सकता है या शरीर के अन्य भागों में विकीर्ण हो सकता है। कोर की मांसपेशियों को मजबूत करने से रीढ़ की हड्डी का समर्थन करने और चोट को रोकने में मदद मिल सकती है। सीधे खड़े होने या कुछ गतिविधियों को करने में कठिनाई।",
"पीठ दर्द की रोकथाम": "बिना ब्रेक के लंबे समय तक झुकने या बैठने से बचें। घुटनों पर झुकें और अपनी पीठ के बजाय अपने पैरों से उठाएं। कोर की मांसपेशियों को मजबूत करने से रीढ़ की हड्डी का समर्थन करने और चोट को रोकने में मदद मिल सकती है। कुर्सियां और डेस्क जो अच्छी मुद्रा का समर्थन करते हैं, पीठ के तनाव को रोकने में मदद कर सकते हैं।",
"पीठ दर्द की दवा":"नॉनस्टेरॉइडल एंटी-इंफ्लेमेटरी ड्रग्स उदाहरणों में इबुप्रोफेन और नेप्रोक्सन शामिल हैं। ओपिओइड: उदाहरणों में ऑक्सीकोडोन और हाइड्रोकोडोन शामिल हैं।",
"खाद्य विषाक्तता का कारण बनता है":" सामान्य जीवाणु कारणों में साल्मोनेला, ई.कोलाई, कैम्पिलोबैक्टर और लिस्टेरिया शामिल हैं.नोरोवायरस और हेपेटाइटिस ए जैसे वायरल रोगजनक भी खाद्य विषाक्तता का कारण बन सकते हैं। जिआर्डिया और क्रिप्टोस्पोरिडियम जैसे परजीवी संक्रमण दूषित भोजन या पानी के माध्यम से प्रेषित किए जा सकते हैं।",
"खाद्य विषाक्तता के लक्षण":"मतली, उल्टी, दस्त, पेट में ऐंठन और पेट दर्द। लक्षण हल्के असुविधा से लेकर गंभीर बीमारी तक हो सकते हैं, जो प्रेरक एजेंट और व्यक्तिगत कारकों पर निर्भर करता है। बुखार, सिरदर्द, मांसपेशियों में दर्द और थकान।",
"खाद्य विषाक्तता की रोकथाम":" हाथों और सतहों को अक्सर धोएं, कच्चे मांस को अन्य खाद्य पदार्थों से अलग करें, खाद्य पदार्थों को उचित तापमान पर पकाएं, और खराब होने वाले खाद्य पदार्थों को तुरंत ठंडा करें। उल्टी और दस्त के कारण होने वाले निर्जलीकरण को रोकने के लिए बहुत सारे तरल पदार्थ पीएं। शरीर को ठीक होने देने के लिए पर्याप्त आराम करें।",
"फूड पॉइजनिंग मेडिसिन":"दस्त को कम करने के लिए लोपरामाइड जैसी एंटी-डायरियल दवाएं। एंटीमेटिक्स जैसे ondansetronto मतली और उल्टी से राहत देता है। बुखार और मांसपेशियों में दर्द के लिए एसिटामिनोफेन।",
"सूखी आंखें कारण": "आंसू उत्पादन उम्र के साथ कम हो जाता है, जिससे सूखी आंखें होती हैं। डिजिटल स्क्रीन या कॉन्टैक्ट लेंस के लंबे समय तक उपयोग से सूखी आंखें हो सकती हैं। एंटीथिस्टेमाइंस, डिकॉन्गेस्टेंट, एंटीडिपेंटेंट्स और कुछ रक्तचाप दवाएं आंसू उत्पादन को कम कर सकती हैं। हवा, धुआं, शुष्क हवा या एयर कंडीशनिंग के संपर्क में आने से आँसू अधिक तेज़ी से वाष्पित हो सकते हैं।",
"सूखी आंखें लक्षण":" आंखों में जलन या बेचैनी। आंखें लाल या रक्तवर्ण दिखाई दे सकती हैं। प्रकाश के प्रति संवेदनशीलता में वृद्धि, विशेष रूप से उज्ज्वल वातावरण में। किरकिरा या खरोंच आंखों की अनुभूति।",
"सूखी आंखें रोकथाम": "पलक झपकने से आंखों की सतह पर समान रूप से आँसू फैलाने में मदद मिलती है। ह्यूमिडिफायर के साथ हवा में नमी जोड़ने से सूखापन को रोकने में मदद मिल सकती है, खासकर शुष्क इनडोर वातावरण में। डिजिटल स्क्रीन का उपयोग करते समय या लंबे समय तक ध्यान देने की आवश्यकता वाले कार्यों को करते समय, अपनी आंखों को आराम देने के लिए नियमित ब्रेक लें।",
"सूखी आंखें चिकित्सा":"प्रिस्क्रिप्शन आई ड्रॉप्स: उदाहरणों में शामिल हैं: साइक्लोस्पोरिन, लिफिटेग्रास्ट: गंभीर सूजन के मामलों में, सूजन और असुविधा को कम करने के लिए स्टेरॉयड आई ड्रॉप का अल्पकालिक उपयोग निर्धारित किया जा सकता है।",
"सामान्य सर्दी के कारण":"सामान्य सर्दी अक्सर वायरस के कारण होती है, जिसमें राइनोवायरस सबसे आम अपराधी होते हैं। अन्य वायरस, जैसे कि कोरोनावायरस और एडेनोवायरस, भी सर्दी का कारण बन सकते हैं। जुकाम अत्यधिक संक्रामक होता है और संक्रमित व्यक्ति के खांसने, छींकने या बात करने पर श्वसन की बूंदों के माध्यम से फैलता है। वे वायरस से दूषित सतहों को छूने और फिर नाक, मुंह या आंखों को छूने से भी फैल सकते हैं।",
"सामान्य सर्दी के लक्षण": "भरी हुई या बहती नाक एक हॉलमार्क लक्षण है। बार-बार छींक आ सकती है। गले में जलन या खरोंच। हल्के मांसपेशियों में दर्द और दर्द मौजूद हो सकता है। कुछ लोगों को शरीर के तापमान में मामूली वृद्धि का अनुभव हो सकता है।",
"सामान्य सर्दी की रोकथाम": "कम से कम 20 सेकंड के लिए साबुन और पानी से बार-बार हाथ धोएं, खासकर खांसने, छींकने या सतहों को छूने के बाद। ठंड के लक्षण वाले लोगों के साथ निकट संपर्क सीमित करें। खांसते या छींकते समय अपने मुंह और नाक को ढंकने के लिए अपनी कोहनी के टिश्यू या टेढ़े-मेढ़े हिस्से का इस्तेमाल करें। बिना धुले हाथों से अपनी आंखों, नाक और मुंह को छूने से बचें।",
"सामान्य सर्दी चिकित्सा": "कुछ खांसी दबाने वाले खांसी के लक्षणों को दूर करने में मदद कर सकते हैं। उदाहरणों में डेक्सट्रोमेथो शामिल हैं"
}

def get_response(message):
    message = message.lower()
    for keyword in responses:
        if keyword in message:
            return responses[keyword]
    return "माफ़ कीजिए, मैं समझ नहीं पाया।"

@app.route('/')
def index():
    return render_template('index.html')

@app.route('/speech', methods=['POST'])
def speech():
    message = request.json['message']
    response_text = get_response(message)
    
    # Generate speech response
    speech_response = gTTS(text=response_text, lang='hi', slow=False)
    speech_response.save("response.mp3")
    
    return jsonify({'response_text': response_text, 'response_speech': 'response.mp3'})

if __name__ == '__main__':
    app.run(debug=True)
